# SubstrateOS AI Assistant Configuration
# Copy to .env and fill in values

# =============================================================================
# LLM Configuration
# =============================================================================
# Primary model for chat/RAG
LLM_PROVIDER=openai                    # openai | anthropic | local
LLM_MODEL=gpt-4o-mini                  # Model identifier
LLM_API_KEY=<<NEEDS_INPUT: llm_api_key>>

# Fallback model (cheaper, for simple queries)
LLM_FALLBACK_MODEL=gpt-3.5-turbo
LLM_FALLBACK_THRESHOLD=0.7             # Confidence threshold to use primary

# =============================================================================
# Embedding Configuration
# =============================================================================
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSIONS=1536

# =============================================================================
# Vector Store
# =============================================================================
VECTOR_STORE=faiss                     # faiss | pgvector | pinecone
VECTOR_STORE_PATH=./data/vectors

# PostgreSQL (if using pgvector)
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=substrateos_ai
# POSTGRES_USER=<<NEEDS_INPUT: db_user>>
# POSTGRES_PASSWORD=<<NEEDS_INPUT: db_password>>

# =============================================================================
# RAG Configuration
# =============================================================================
RAG_CHUNK_SIZE=512
RAG_CHUNK_OVERLAP=50
RAG_TOP_K=5
RAG_RERANK_ENABLED=true
RAG_RERANK_TOP_N=3

# =============================================================================
# API Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# Authentication
API_KEY_ENABLED=true
API_KEYS=<<NEEDS_INPUT: comma_separated_api_keys>>

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# =============================================================================
# Monitoring
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json                        # json | text
LOG_FILE=./logs/app.log

# Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Tracing (optional)
# OTEL_EXPORTER_ENDPOINT=<<NEEDS_INPUT: otel_endpoint>>

# =============================================================================
# Security
# =============================================================================
# PII Detection
PII_REDACTION_ENABLED=true
DATA_SENSITIVITY=public                # public | internal | pii | phi

# Prompt Injection Defense
PROMPT_INJECTION_DETECTION=true
MAX_INPUT_LENGTH=4000

# =============================================================================
# Agent Configuration (Optional)
# =============================================================================
AGENT_ENABLED=true
AGENT_MAX_ITERATIONS=10
AGENT_TIMEOUT_SECONDS=30

# Allowed tools (comma-separated)
AGENT_ALLOWED_TOOLS=shell_execute,file_read,file_write,search_docs

# =============================================================================
# Corpus / Documentation
# =============================================================================
CORPUS_PATH=./data/corpus
CORPUS_SOURCE=local                    # local | github | url
